<div
  class="vh-100 min-vh-100 vw-100 min-vw-100 d-flex justify-content-center align-items-center"
>
  <div class="container bg-dark w-50 h-50">
    <div class="row">
      <div class="col-md-4 offset-md-4 mt-5 border border-success pt-3">
        <form #searchForm="ngForm">
          <div class="input-group mb-3" (keyup.enter)="performSearch()">
            <input
              #searchInput
              type="text"
              class="form-control"
              placeholder="Search ......"
              aria-label="Recipient's username"
              keydown.enter="performSearch()"
            />
            <div class="input-group-append" (click)="performSearch()">
              <button class="input-group-text">
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>
          <div class="col-md-2">
            <button class="btn btn-secondary" (click)="getUserByPlate()">
              Buscar por matr√≠cula
            </button>
          </div>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <table class="table table-dark table-bordered overflow-scroll">
          <thead>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>Sexo</th>
            <th>Nacimiento</th>
            <th>Altura</th>
            <th>Trabajo</th>
          </thead>
          <tbody>
            <tr *ngFor="let user of usuarios; let i = index">
              <td>{{ user.identity.name }}</td>
              <td>
                {{ user.identity.firstname }} {{ user.identity.secondname }}
              </td>
              <ng-container *ngIf="user.identity.sex == 'm'; else elseTemplate">
                <td>Masculino</td>
              </ng-container>
              <ng-template #elseTemplate>
                <td>Femenino</td>
              </ng-template>
              <!-- <td>{{ new Date(user.identity.dateofbirth) }}</td> -->
              <td>{{ user.identity.dateofbirth | date: "dd-MM-yyyy" }}</td>
              <td>{{ user.identity.height / 100 }}</td>
              <td>
                <ng-template #popContent
                  >{{ user.job }}<br />
                  {{ user.job_grade }}</ng-template
                >
                <ng-container *ngIf="currentJob">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    placement="left"
                    #jobPopover="ngbPopover"
                    ngbPopover="{{ popoverContent }}"
                    popoverTitle="{{ user.job }}"
                    triggers="manual"
                    (click)="
                      getAllJobsAndSetCurrentJob(
                        user.job,
                        user.job_grade,
                        jobPopover
                      )
                    "
                  >
                    {{ user.job }}
                  </button>
                </ng-container>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
